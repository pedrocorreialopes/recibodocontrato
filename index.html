<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Termo Simplificado de Locação - Glipearte Pegue e Monte</title>
  <style>
    :root{--accent:#6c63ff;--muted:#6b7280;--bg:#f7f7fb;--card:#ffffff;--radius:12px}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,#fbfcff 0%,#f7f7fb 100%);color:#111}
    .container{max-width:920px;margin:32px auto;padding:28px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:0 8px 30px rgba(17,24,39,0.06);padding:22px}
    header{display:flex;align-items:center;gap:18px}
    .logo{width:88px;height:88px;border-radius:14px;overflow:hidden;flex:0 0 88px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#fff 0,#f3f4f6 100%);box-shadow:inset 0 1px 0 rgba(255,255,255,0.6)}
    .logo img{max-width:100%;height:auto}
    h1{margin:0;font-size:18px}
    p.lead{margin:6px 0 0;color:var(--muted);font-size:13px}

    form .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:18px}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input[type=text],input[type=date],input[type=tel],textarea,select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef;background:transparent;font-size:14px}
    textarea{min-height:84px;resize:vertical}

    .section-title{margin-top:18px;font-weight:600;color:#0f172a}
    .clauses{font-size:13px;color:#0f172a;line-height:1.45;margin-top:8px}

    .row{display:flex;gap:12px;align-items:center}
    .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:18px}
    button{background:var(--accent);color:white;border:0;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;color:var(--accent);box-shadow:inset 0 0 0 1px rgba(108,99,255,0.12)}
    .small{font-size:12px;color:var(--muted)}

    .sig-wrap{display:flex;gap:12px;margin-top:12px}
    .sig-box{flex:1;background:#f8fafc;border-radius:8px;padding:8px;border:1px dashed #e6e9ef}
    canvas{width:100%;height:140px;border-radius:6px;background:white}
    .sig-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:6px}

    @media (max-width:720px){.grid{grid-template-columns:1fr}.logo{display:none}}

    /* print styles */
    @media print{
      body{background:white}
      .container{box-shadow:none;margin:0;padding:0}
      .actions, .sig-actions, header .logo{display:none}
      canvas{height:120px}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <header>
        <div class="logo"><img src="logo.png" alt="Logo Glipearte"></div>
        <div>
          <h1>Termo Simplificado de Locação de Kit de Festa</h1>
          <p class="lead">Glipearte Pegue e Monte — Festas incríveis começam aqui.</p>
        </div>
      </header>

      <form id="termForm">
        <div class="section-title">Dados da Locadora</div>
        <div class="clauses small">Glipearte Pegue e Monte — Representante: Pedro Correia</div>

        <div class="grid" style="margin-top:10px">
          <div>
            <label>Nome da Locadora</label>
            <input type="text" id="locadora_nome" value="Glipearte Pegue e Monte" />
          </div>
          <div>
            <label>Representante</label>
            <input type="text" id="locadora_representante" value="Pedro Correia" />
          </div>
          <div>
            <label>Contato (telefone/e-mail)</label>
            <input type="text" id="locadora_contato" value="" placeholder="(xx) xxxxx-xxxx / e-mail" />
          </div>
          <div>
            <label>Endereço Comercial</label>
            <input type="text" id="locadora_end" placeholder="Endereço da locadora" />
          </div>
        </div>

        <div class="section-title">Dados do Locatário</div>
        <div class="grid">
          <div>
            <label>Nome completo</label>
            <input type="text" id="locatario_nome" required />
          </div>
          <div>
            <label>CPF</label>
            <input type="text" id="locatario_cpf" required />
          </div>
          <div>
            <label>Telefone</label>
            <input type="tel" id="locatario_tel" />
          </div>
          <div>
            <label>Endereço do evento</label>
            <input type="text" id="locatario_endereco" />
          </div>
          <div>
            <label>Data do evento</label>
            <input type="date" id="data_evento" />
          </div>
          <div>
            <label>Valor da locação (R$)</label>
            <input type="text" id="valor_locacao" />
          </div>
        </div>

        <div class="section-title">Descrição do Kit</div>
        <textarea id="itens_kit" placeholder="Descreva os itens do kit (mesas, cilindros, boleiras, bolo fake, painéis, etc.)"></textarea>

        <div class="section-title">Cláusulas Principais</div>
        <div class="clauses">
          <ol>
            <li><strong>Objeto:</strong> Locação de kit(s) de decoração de festa contendo os itens descritos acima.</li>
            <li><strong>Período:</strong> Entrega e devolução conforme acordado; período padrão de até 24 horas salvo acordo por mensagem.</li>
            <li><strong>Pagamento:</strong> Reserva confirmada mediante pagamento acordado.</li>
            <li><strong>Proibição de transferência:</strong> O locatário não deve transferir, ceder, emprestar ou sublocar o kit a terceiros.</li>
            <li><strong>Cancelamento:</strong> Em caso de cancelamento, não haverá devolução do valor pago; será gerado um <em>voucher</em> com o mesmo valor para uso em locações futuras dentro de até <strong>6 (seis) meses</strong>, conforme disponibilidade.</li>
            <li><strong>Atraso na devolução:</strong> A não devolução na data marcada implicará multa de <strong>10% do valor total</strong>, mais acréscimo de <strong>1% por dia</strong> de atraso.</li>
            <li><strong>Montagem em área aberta:</strong> Se a montagem ocorrer em área aberta, é responsabilidade do locatário providenciar cobertura adequada em dias de chuva e garantir acesso à energia elétrica quando necessário.</li>
            <li><strong>Verificação do espaço:</strong> O locatário deve verificar as medidas do local e acessos; se os itens não puderem ser utilizados por limitações do espaço ou acesso, <strong>não haverá redução no valor da locação</strong>.</li>
            <li><strong>Danos e reposições:</strong> No momento da devolução serão considerados danos: quebra, roubo, furto, parte faltante, queima, rasgo, mancha, perda ou lasca. Toda peça com dano será cobrada conforme tabela anexa. Em caso de desistência ou substituição de peça no momento da retirada, o locatário arcará com o valor de reposição da peça levada em comum acordo.</li>
            <li><strong>Alteração de data pelo locatário:</strong> Mudanças de data serão aceitas mediante disponibilidade da locadora, sem cobrança de taxa.</li>
          </ol>
        </div>

        <div class="section-title">Assinaturas (aceite digital)</div>
        <div class="small">Desenhe sua assinatura no quadro abaixo. A assinatura eletrônica por este formulário tem finalidade de aceitação do presente termo.</div>

        <div class="sig-wrap">
          <div class="sig-box">
            <label class="small">Assinatura do Locatário</label>
            <canvas id="sig1"></canvas>
            <div class="sig-actions">
              <button type="button" class="ghost" onclick="clearSig('sig1')">Limpar</button>
            </div>
          </div>
          <div class="sig-box">
            <label class="small">Assinatura da Glipearte (Locadora)</label>
            <canvas id="sig2"></canvas>
            <div class="sig-actions">
              <button type="button" class="ghost" onclick="clearSig('sig2')">Limpar</button>
            </div>
          </div>
        </div>

        <div style="margin-top:14px;display:flex;align-items:center;gap:8px">
          <input type="checkbox" id="confirmo" required />
          <label for="confirmo" class="small">Confirmo que li e concordo com os termos acima.</label>
        </div>

        <div class="actions">
          <button type="button" onclick="gerarPDF()">Salvar / Imprimir (Salvar como PDF)</button>
          <button type="button" class="ghost" onclick="baixarJSON()">Baixar dados (JSON)</button>
        </div>

      </form>

      <p class="small" style="margin-top:12px;color:var(--muted)">Observação: anexe a tabela de reposição de peças quando enviar o contrato ao cliente. Este formulário é pensado para uso digital — visualize no navegador, preencha, assine e use a opção de impressão para gerar PDF.</p>
    </div>
  </div>

  <script>
    // Simple signature pads
    function setupSig(id){
      const canvas = document.getElementById(id);
      const ctx = canvas.getContext('2d');
      let drawing=false; let lastX=0,lastY=0;
      function resize(){const ratio=window.devicePixelRatio||1;canvas.width=canvas.clientWidth*ratio;canvas.height=140*ratio;ctx.scale(ratio,ratio);ctx.lineJoin='round';ctx.lineCap='round';ctx.lineWidth=2.6;ctx.strokeStyle='#111'}
      function start(e){drawing=true;[lastX,lastY]=getXY(e)}
      function end(){drawing=false}
      function draw(e){if(!drawing) return; const [x,y]=getXY(e); ctx.beginPath(); ctx.moveTo(lastX,lastY); ctx.lineTo(x,y); ctx.stroke(); [lastX,lastY]=[x,y]}
      function getXY(e){const rect=canvas.getBoundingClientRect(); if(e.touches){return [e.touches[0].clientX-rect.left, e.touches[0].clientY-rect.top]} return [e.clientX-rect.left, e.clientY-rect.top]}
      window.addEventListener('resize',resize); resize();
      canvas.addEventListener('mousedown',start); canvas.addEventListener('touchstart',start);
      canvas.addEventListener('mouseup',end); canvas.addEventListener('touchend',end);
      canvas.addEventListener('mousemove',draw); canvas.addEventListener('touchmove',draw);
    }
    function clearSig(id){const c=document.getElementById(id); const ctx=c.getContext('2d'); ctx.clearRect(0,0,c.width,c.height)}
    setupSig('sig1'); setupSig('sig2');

    function gerarPDF(){
      // Mark signatures into data URLs and open print window
      const sig1=document.getElementById('sig1'); const sig2=document.getElementById('sig2');
      // convert canvases to images
      const s1=sig1.toDataURL(); const s2=sig2.toDataURL();

      // Build printable document
      const doc = document.createElement('iframe'); doc.style.position='fixed'; doc.style.right='0'; doc.style.bottom='0'; doc.style.width='0'; doc.style.height='0'; doc.style.border='0';
      document.body.appendChild(doc);
      const d = doc.contentWindow.document;

      const html = buildPrintableHTML(s1,s2);
      d.open(); d.write(html); d.close();
      // Wait a bit then print
      setTimeout(()=>{doc.contentWindow.focus(); doc.contentWindow.print(); /* optionally remove iframe after printing */},600);
    }

    function buildPrintableHTML(s1,s2){
      const locadoraNome = document.getElementById('locadora_nome').value;
      const locadoraRep = document.getElementById('locadora_representante').value;
      const locadoraCont = document.getElementById('locadora_contato').value;
      const locatarioNome = document.getElementById('locatario_nome').value;
      const cpf = document.getElementById('locatario_cpf').value;
      const tel = document.getElementById('locatario_tel').value;
      const endereco = document.getElementById('locatario_endereco').value;
      const dataEv = document.getElementById('data_evento').value;
      const valor = document.getElementById('valor_locacao').value;
      const itens = document.getElementById('itens_kit').value.replace(/\n/g,'<br>');

      const today = new Date(); const dt = today.toLocaleDateString();

      return `<!doctype html><html><head><meta charset="utf-8"><title>Termo - Impressão</title><style>body{font-family:Arial,Helvetica,sans-serif;color:#111;margin:24px}h2{margin:0 0 6px}p.small{color:#555;font-size:13px}table{width:100%;border-collapse:collapse;margin-top:12px}td,th{padding:8px;border:1px solid #e6e6e6;text-align:left;font-size:13px}fieldset{border:1px solid #e6e6e6;padding:10px;border-radius:8px;margin-top:12px}img.sign{max-width:320px;max-height:120px;border:1px solid #ddd}</style></head><body>
        <h2>Termo Simplificado de Locação de Kit de Festa</h2>
        <p class="small">Glipearte Pegue e Monte — Representante: ${locadoraRep}</p>
        <table><tr><th>Locadora</th><th>Locatário</th></tr>
        <tr><td>${locadoraNome}<br>${locadoraCont}</td>
            <td>${locatarioNome}<br>CPF: ${cpf}<br>Tel: ${tel}<br>Endereço evento: ${endereco}</td></tr></table>

        <fieldset><legend>Dados do Evento</legend>
          <p>Data do evento: ${dataEv} &nbsp;&nbsp; Valor da locação: R$ ${valor}</p>
          <p><strong>Itens do kit:</strong><br>${itens}</p>
        </fieldset>

        <fieldset><legend>Cláusulas</legend>
          <ol>
            <li>O locatário não deve transferir, ceder, emprestar ou sublocar o kit a terceiros.</li>
            <li>Em caso de cancelamento, não haverá devolução do valor pago; será gerado um voucher válido por até 6 (seis) meses, conforme disponibilidade.</li>
            <li>A não devolução na data marcada implicará multa de 10% do valor total, mais acréscimo de 1% por dia de atraso.</li>
            <li>Em montagem em área aberta, o locatário deve providenciar cobertura em caso de chuva e garantir energia elétrica quando necessário.</li>
            <li>O locatário deve verificar medidas e acessos; limitações de espaço não reduzem o valor da locação.</li>
            <li>Serão considerados danos: quebra, roubo, furto, parte faltante, queima, rasgo, mancha, perda ou lasca. Peças danificadas serão cobradas conforme tabela anexa.</li>
            <li>Alterações de data pelo locatário serão aceitas mediante disponibilidade da locadora, sem taxa.</li>
          </ol>
        </fieldset>

        <div style="display:flex;gap:30px;margin-top:18px">
          <div>
            <p class="small">Assinatura do Locatário</p>
            <img class="sign" src="${s1}" alt="assinatura locatario" />
          </div>
          <div>
            <p class="small">Assinatura da Glipearte (Locadora)</p>
            <img class="sign" src="${s2}" alt="assinatura locadora" />
          </div>
        </div>

        <p style="margin-top:18px;color:#666;font-size:12px">Fortaleza, Ceará: ${dt}</p>
        </body></html>`;
    }

    function baixarJSON(){
      const data = {
        locadora_nome: document.getElementById('locadora_nome').value,
        locadora_representante: document.getElementById('locadora_representante').value,
        locadora_contato: document.getElementById('locadora_contato').value,
        locatario_nome: document.getElementById('locatario_nome').value,
        locatario_cpf: document.getElementById('locatario_cpf').value,
        locatario_tel: document.getElementById('locatario_tel').value,
        locatario_endereco: document.getElementById('locatario_endereco').value,
        data_evento: document.getElementById('data_evento').value,
        valor_locacao: document.getElementById('valor_locacao').value,
        itens_kit: document.getElementById('itens_kit').value,
        assinatura_locatario: document.getElementById('sig1').toDataURL(),
        assinatura_locadora: document.getElementById('sig2').toDataURL()
      };
      const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='termo_glipearte_dados.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>